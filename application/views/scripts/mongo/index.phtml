<?php
$this->title = "Mongo DB";
$this->headTitle($this->title);
?>
<div class="show-msg"><?php echo $this->form ?></div>
<table> 
 <tr>
  <td>
   <div id="containerUp"  style="width:50%; height:300px;"></div>
   <div id="containerDown" style="width:50%; height:300px;"></div>
  </td>
  <td>
   <div id="containerUpLeft"  style="width:50%; height:300px;"></div>
   <div id="containerDownLeft" style="width:50%; height:300px;"></div>
  </td>
 </tr>
</table>
<script>
$(function () { 
    $('#containerUp').highcharts({
        chart: {
            type: 'line'
        },
        title: {
            text: 'Active Members'
        },
        xAxis: {
                          type: 'category',
            labels: {
                rotation: -60,
                style: {
                    fontSize: '9px',
                    fontFamily: 'Verdana, sans-serif'
                }
            }
        },
        yAxis: {    min:0

        },
        legend: {
        },
        series: [{
            name: 'requests',
            data: <?php echo $this->items ?> 
        }
        ]
    });
});

function toto(datachart){
  var datat=jQuery.parseJSON(datachart);
$('#containerDown').highcharts({
    chart: {
        type: 'line'
    },
    title: {
        text: 'Publish activity'
    },
    xAxis: {
    type: 'category'
    },
    yAxis: {
    min:0
    },
    series: [{
            name: 'requests',
            data: datat
        }
        ]
});         
}
$(document).ready(function(){
    $.get('mongo/jsget',
            function (data) {
              toto(data);
          }
   );

});

function totob(datachart){
  var datat=jQuery.parseJSON(datachart);
$('#containerUpLeft').highcharts({
    chart: {
        type: 'line'
    },
    title: {
        text: 'Publish activity'
    },
    xAxis: {
    type: 'category'
    },
    yAxis: {
    min:0
    },
    series: [{
            name: 'requests',
            data: datat
        }
        ]
});         
}
$(document).ready(function(){
    $.get('mongo/jsgetb',
            function (data) {
              totob(data);
          }
   );

});
</script>
